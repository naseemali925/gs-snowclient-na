(this["webpackJsonpgs-snowclient-na"]=this["webpackJsonpgs-snowclient-na"]||[]).push([[0],{209:function(e,t,n){e.exports=n(323)},214:function(e,t,n){},216:function(e,t,n){},323:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(14),c=n.n(o),l=(n(214),n(215),n(216),n(361)),i=n(364),s=n(149),u=n(135),m=Object(l.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},content:{flexGrow:1,padding:e.spacing(3)}}}));function d(){var e=m();return r.a.createElement("div",{className:e.root},r.a.createElement(i.a,{position:"static"},r.a.createElement(s.a,null,r.a.createElement(u.a,{variant:"h6",className:e.title},"SNOW Client"))))}var p=n(10),g=n(43),f=n(69),b=n.n(f),h=n(92),w=n(39),y=n(183),v=n.n(y),E=n(121),O=n.n(E);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(){var e=Object(a.useState)({columns:[{title:"Number",field:"number"},{title:"Opened",field:"opened_at"},{title:"Short Description",field:"short_description"}],data:[]}),t=Object(w.a)(e,2),n=t[0],o=t[1],c=function(){var e=Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("https://dev78916.service-now.com/api/now/table/incident?sysparm_limit=10",{auth:{username:"admin",password:"@Jc403904y"}});case 3:t=e.sent,o(Object.assign(t.data.result,{},{columns:n.columns,data:t.data.result})),console.log(t.status,t.data.result),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){c()}),[]);return r.a.createElement(v.a,{style:{margin:"16px"},title:"Incidents",columns:n.columns,data:n.data,detailPanel:function(e){return r.a.createElement("iframe",{width:"100%",height:"315",src:"https://www.youtube.com/embed/C0DPdy98e4c",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0})},onRowClick:function(e,t,n){return n()},editable:{onRowAdd:function(e){return new Promise((function(t){setTimeout((function(){t();var a=Object(g.a)(n.data);a.push(e),o(j({},n,{data:a}))}),600)}))},onRowUpdate:function(e,t){return new Promise((function(a){setTimeout((function(){a();var r=Object(g.a)(n.data);r[r.indexOf(t)]=e,o(j({},n,{data:r}))}),600)}))},onRowDelete:function(e){return new Promise((function(t){setTimeout((function(){t();var a=Object(g.a)(n.data);a.splice(a.indexOf(e),1),o(j({},n,{data:a}))}),600)}))}}})}function P(e){return console.log("Logged In = "+e.globalState.isLoggedIn),r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement(I,null))}var S=n(136),N=n(68),k=n(180),C=n(112),D=n(369),L=n(166),B=Object(l.a)((function(e){return{container:{display:"flex",flexWrap:"wrap",margin:"16px"},input:{margin:e.spacing(1)},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},button:{margin:e.spacing(1)}}}));function F(e){var t=B();function n(){return(n=Object(h.a)(b.a.mark((function t(n){var a,r,o,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),a=document.getElementById("username").value,r=document.getElementById("password").value,o=document.getElementById("instanceId").value;try{c={url:"https://".concat(o,".service-now.com/api/now/v2/table/sys_user?user_name=").concat(a),method:"get",auth:{username:"".concat(a),password:"".concat(r)}},O()(c).then((function(t){var n={raw:t,status:t.status};200===t.status&&(e.globalState.setLoggedIn(!0),e.history.push("/dashboard")),console.log("Authenticated",n)}),(function(e){console.log(e)}))}catch(n){console.log(n)}case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return e.globalState.isLoggedIn&&e.history.push("/dashboard"),r.a.createElement(r.a.Fragment,null,r.a.createElement(d,null),r.a.createElement("form",{className:t.container,style:{justifyContent:"center",alignItems:"center"},noValidate:!0,autoComplete:"off"},r.a.createElement(C.a,{className:t.paper,style:{width:"500px"}},r.a.createElement(D.a,{container:!0,spacing:1,direction:"column"},r.a.createElement(D.a,{item:!0,xs:12},r.a.createElement(k.a,{style:{width:"100%"},id:"username",label:"Username",className:t.textField,type:"text",name:"username",autoComplete:"email",margin:"normal",variant:"outlined"})),r.a.createElement(D.a,{item:!0,xs:12},r.a.createElement(k.a,{style:{width:"100%"},id:"password",label:"Password",className:t.textField,type:"password",name:"pwd",margin:"normal",variant:"outlined"})),r.a.createElement(D.a,{item:!0,xs:12},r.a.createElement(k.a,{style:{width:"100%"},id:"instanceId",defaultValue:"dev78916",label:"Instance name",className:t.textField,type:"email",name:"email",autoComplete:"email",margin:"normal",variant:"outlined"})),r.a.createElement(D.a,{item:!0,xs:12,style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(L.a,{style:{width:"100%",margin:"0"},variant:"contained",color:"primary",size:"large",className:t.button,onClick:function(e){return n.apply(this,arguments)}},"Login"))))))}var R=function(e){return console.log(e.globalState),r.a.createElement(S.a,{basename:"/"},r.a.createElement("div",{className:"App"},r.a.createElement(r.a.Fragment,null,r.a.createElement(N.c,null,r.a.createElement(N.a,{path:"/",exact:!0,render:function(){return r.a.createElement(F,Object.assign({},e,{globalState:e.globalState}))}}),r.a.createElement(N.a,{path:"/dashboard",render:function(){return r.a.createElement(P,Object.assign({},e,{globalState:e.globalState}))}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=n(26),A=new function e(t){var n=this;Object(_.a)(this,e),this.setLoggedIn=function(e){n.loggedIn=e},this.isLoggedIn=function(){return n.loggedIn},this.loggedIn=t}(!1);c.a.render(r.a.createElement(R,{globalState:A}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[209,1,2]]]);
//# sourceMappingURL=main.08174742.chunk.js.map